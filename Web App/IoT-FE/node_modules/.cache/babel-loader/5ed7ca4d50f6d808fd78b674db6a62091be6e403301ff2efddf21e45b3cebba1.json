{"ast":null,"code":"var _jsxFileName = \"E:\\\\Desktop\\\\Zalo file\\\\IoT-FE\\\\src\\\\components\\\\DataHistory.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\n// import { getDatabase, ref, onValue, push } from \"firebase/database\"; // Thêm từ Firebase\n\n// const DataHistory = () => {\n//   const [dataHistory, setDataHistory] = useState([]);\n//   const [showAll, setShowAll] = useState(false);\n//   const [error, setError] = useState(null);\n\n//   const isDifferentData = (newData, lastData) => {\n//     return (\n//       newData.gasThreshold !== lastData.gasThreshold ||\n//       newData.fireState !== lastData.fireState\n//     );\n//   };\n\n//   useEffect(() => {\n//     const db = getDatabase(); // Tạo kết nối tới Firebase Database\n//     const historyRef = ref(db, \"dataHistory\");\n\n//     // Lấy các bản ghi lưu trữ khi trang được tải lại\n//     onValue(historyRef, (snapshot) => {\n//       const savedData = snapshot.val();\n//       const loadedHistory = savedData ? Object.values(savedData) : [];\n//       setDataHistory(loadedHistory);\n//     });\n\n//     const fetchData = async () => {\n//       try {\n//         const response = await axios.get(\"https://whldjc-3001.csb.app/api/data\");\n//         const newData = {\n//           ...response.data,\n//           timestamp: new Date().toLocaleString(),\n//         };\n\n//         // Kiểm tra nếu có lửa hoặc khí gas vượt ngưỡng\n//         if (newData.fireState === 1 || newData.gasValue >= newData.gasThreshold) {\n//           // Kiểm tra xem dữ liệu mới đã tồn tại trong lịch sử chưa (dựa trên gasThreshold và fireState)\n//           const existingData = dataHistory.find(\n//             (item) => item.gasThreshold === newData.gasThreshold && item.fireState === newData.fireState\n//           );\n\n//         if (!existingData) {\n//           push(historyRef, newData); // Chỉ lưu nếu không có dữ liệu trùng\n//         }\n//       }\n\n//         setDataHistory((prevHistory) => {\n//           if (prevHistory.length === 0 || isDifferentData(newData, prevHistory[prevHistory.length - 1])) {\n//             return [...prevHistory, newData];\n//           }\n//           return prevHistory;\n//         });\n//       } catch (error) {\n//         setError(\"Lỗi khi lấy dữ liệu từ server: \" + error.message);\n//         console.error(\"Chi tiết lỗi:\", error);\n//       }\n//     };\n\n//     fetchData();\n//     const interval = setInterval(fetchData, 5000);\n//     return () => clearInterval(interval);\n//   }, []);\n\n//   // const displayedData = showAll ? dataHistory : dataHistory.slice(-5).reverse();\n//   const displayedData = [...dataHistory]\n//     .reverse()\n//     .slice(0, showAll ? dataHistory.length : 5);\n\n//   return (\n//     <div style={styles.container}>\n//       <h2 style={styles.header}>Lịch sử trạng thái</h2>\n//       {dataHistory.length > 0 ? (\n//         <table style={styles.table}>\n//           <thead>\n//             <tr style={styles.headerRow}>\n//               <th style={{ ...styles.th, ...styles.timestamp }}>Thời gian</th>\n//               <th style={{ ...styles.th, ...styles.fanState }}>Trạng thái quạt</th>\n//               <th style={{ ...styles.th, ...styles.pumpState }}>Trạng thái máy bơm</th>\n//               <th style={{ ...styles.th, ...styles.windowState }}>Trạng thái cửa sổ</th>\n//               <th style={{ ...styles.th, ...styles.gasValue }}>Giá trị mức khí gas hiện tại(ppm)</th>\n//               <th style={{ ...styles.th, ...styles.gasThreshold }}>Ngưỡng khí gas(ppm)</th>\n//               <th style={{ ...styles.th, ...styles.fireState }}>Phát hiện lửa</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {displayedData.map((data, index) => (\n//               <tr key={index}>\n//                 <td style={styles.timestamp}>{data.timestamp}</td>\n//                 <td style={styles.fanState}>{data.fanState}</td>\n//                 <td style={styles.pumpState}>{data.pumpState}</td>\n//                 <td style={styles.windowState}>{data.windowState}</td>\n//                 <td style={styles.gasValue}>{data.gasValue}</td>\n//                 <td style={styles.gasThreshold}>{data.gasThreshold}</td>\n//                 <td style={styles.fireState}>{data.fireState}</td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       ) : (\n//         <p style={styles.loadingText}>Đang tải dữ liệu...</p>\n//       )}\n//       {dataHistory.length > 5 && (\n//         <button onClick={() => setShowAll(!showAll)} style={styles.button}>\n//           {showAll ? \"Ẩn bớt\" : \"Xem tất cả\"}\n//         </button>\n//       )}\n//     </div>\n//   );\n// };\n\n// const styles = {\n//   container: {\n//     maxWidth: \"700px\",\n//     margin: \"auto\",\n//     padding: \"20px\",\n//     borderRadius: \"8px\",\n//     boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.2)\",\n//     backgroundColor: \"#f9f9f9\",\n//   },\n//   header: {\n//     textAlign: \"center\",\n//     color: \"#333\",\n//   },\n//   table: {\n//     width: \"100%\",\n//     borderCollapse: \"collapse\",\n//     marginTop: \"10px\",\n//   },\n//   headerRow: {\n//     backgroundColor: \"#333\",\n//     color: \"#000\",\n//   },\n//   th: {\n//     padding: \"10px\",\n//     border: \"1px solid #ddd\",\n//     fontWeight: \"bold\",\n//   },\n//   timestamp: {\n//     backgroundColor: \"#ffebcc\",\n//     textAlign: \"center\",\n//   },\n//   fanState: {\n//     backgroundColor: \"#ffcccc\",\n//     textAlign: \"center\",\n//   },\n//   fireState: {\n//     backgroundColor: \"#ffe6cc\",\n//     textAlign: \"center\",\n//   },\n//   gasThreshold: {\n//     backgroundColor: \"#ffffcc\",\n//     textAlign: \"center\",\n//   },\n//   gasValue: {\n//     backgroundColor: \"#e6ffcc\",\n//     textAlign: \"center\",\n//   },\n//   pumpState: {\n//     backgroundColor: \"#cce6ff\",\n//     textAlign: \"center\",\n//   },\n//   windowState: {\n//     backgroundColor: \"#e6ccff\",\n//     textAlign: \"center\",\n//   },\n//   loadingText: {\n//     textAlign: \"center\",\n//     color: \"#888\",\n//   },\n//   button: {\n//     display: \"block\",\n//     width: \"100%\",\n//     padding: \"10px\",\n//     marginTop: \"10px\",\n//     fontSize: \"16px\",\n//     borderRadius: \"4px\",\n//     border: \"none\",\n//     backgroundColor: \"#007bff\",\n//     color: \"#fff\",\n//     cursor: \"pointer\",\n//     textAlign: \"center\",\n//   },\n// };\n\n// export default DataHistory;\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { getDatabase, ref, onValue, push } from \"firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ITEMS_PER_PAGE = 10; // Số mục mỗi trang\n\nconst DataHistory = () => {\n  _s();\n  const [dataHistory, setDataHistory] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1); // Trang hiện tại\n  const [totalPages, setTotalPages] = useState(1); // Tổng số trang\n\n  useEffect(() => {\n    const db = getDatabase();\n    const historyRef = ref(db, \"dataHistory\");\n    let lastRecord = null; // Lưu bản ghi cuối cùng đã thêm\n\n    onValue(historyRef, snapshot => {\n      const savedData = snapshot.val();\n      const loadedHistory = savedData ? Object.values(savedData) : [];\n      setDataHistory(loadedHistory);\n      setTotalPages(Math.ceil(loadedHistory.length / ITEMS_PER_PAGE));\n      if (loadedHistory.length > 0) {\n        lastRecord = loadedHistory[loadedHistory.length - 1]; // Lấy bản ghi cuối cùng\n      }\n    });\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\"https://whldjc-3001.csb.app/api/data\");\n        const newData = {\n          ...response.data,\n          timestamp: new Date().toLocaleString()\n        };\n\n        // Kiểm tra sự khác biệt với bản ghi cuối cùng\n        const isDifferent = !lastRecord || newData.fireState !== lastRecord.fireState || newData.gasValue !== lastRecord.gasValue || newData.gasThreshold !== lastRecord.gasThreshold;\n        if (isDifferent && (newData.fireState === 0 || newData.gasValue >= newData.gasThreshold)) {\n          push(historyRef, newData); // Thêm bản ghi mới vào Firebase\n          lastRecord = newData; // Cập nhật bản ghi cuối cùng\n        }\n      } catch (error) {\n        console.error(\"Lỗi khi lấy dữ liệu từ server:\", error);\n      }\n    };\n    fetchData();\n    const interval = setInterval(fetchData, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Lọc dữ liệu dựa trên trang hiện tại\n  const displayedData = [...dataHistory].reverse().slice((currentPage - 1) * ITEMS_PER_PAGE, currentPage * ITEMS_PER_PAGE);\n\n  // Tính toán danh sách trang hiển thị\n  const calculatePages = () => {\n    const pages = [];\n    if (totalPages <= 7) {\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      if (currentPage > 3) pages.push(1, 2, \"...\");\n      for (let i = Math.max(3, currentPage - 2); i <= Math.min(totalPages - 2, currentPage + 2); i++) {\n        pages.push(i);\n      }\n      if (currentPage < totalPages - 2) pages.push(\"...\", totalPages - 1, totalPages);\n    }\n    return pages;\n  };\n\n  // Điều hướng giữa các trang\n  const handlePageSelect = page => {\n    if (typeof page === \"number\") {\n      setCurrentPage(page);\n    }\n  };\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.header,\n      children: \"L\\u1ECBch s\\u1EED tr\\u1EA1ng th\\xE1i\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), dataHistory.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n      style: styles.table,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: styles.headerRow,\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Th\\u1EDDi gian\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Tr\\u1EA1ng th\\xE1i qu\\u1EA1t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Tr\\u1EA1ng th\\xE1i m\\xE1y b\\u01A1m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Tr\\u1EA1ng th\\xE1i c\\u1EEDa s\\u1ED5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Gi\\xE1 tr\\u1ECB m\\u1EE9c kh\\xED gas hi\\u1EC7n t\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Ng\\u01B0\\u1EE1ng kh\\xED gas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Ph\\xE1t hi\\u1EC7n l\\u1EEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: displayedData.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: data.timestamp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: data.fanState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: data.pumpState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: data.windowState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: data.gasValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: data.gasThreshold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: data.fireState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles.loadingText,\n      children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.pagination,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevPage,\n        disabled: currentPage === 1,\n        style: styles.pageButton,\n        children: \"</\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), calculatePages().map((page, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handlePageSelect(page),\n        style: {\n          ...styles.pageNumber,\n          backgroundColor: page === currentPage ? \"#007bff\" : \"#f0f0f0\",\n          color: page === currentPage ? \"#fff\" : \"#000\"\n        },\n        disabled: page === \"...\",\n        children: page\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextPage,\n        disabled: currentPage === totalPages,\n        style: styles.pageButton,\n        children: \"/>\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n};\n_s(DataHistory, \"VfVNSok0TxNyxNwKJwPdJSXwJd8=\");\n_c = DataHistory;\nconst styles = {\n  container: {\n    maxWidth: \"700px\",\n    margin: \"auto\",\n    padding: \"20px\"\n  },\n  header: {\n    textAlign: \"center\",\n    color: \"#333\"\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"collapse\",\n    marginTop: \"10px\"\n  },\n  th: {\n    padding: \"10px\",\n    border: \"1px solid #ddd\",\n    fontWeight: \"bold\",\n    backgroundColor: \"#f0f0f0\"\n  },\n  td: {\n    padding: \"10px\",\n    border: \"1px solid #ddd\"\n  },\n  loadingText: {\n    textAlign: \"center\",\n    color: \"#888\"\n  },\n  pagination: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: \"10px\"\n  },\n  pageButton: {\n    padding: \"10px\",\n    fontSize: \"16px\",\n    margin: \"0 5px\",\n    cursor: \"pointer\"\n  },\n  pageNumber: {\n    padding: \"5px 10px\",\n    margin: \"0 2px\",\n    border: \"1px solid #ddd\",\n    cursor: \"pointer\"\n  }\n};\nexport default DataHistory;\nvar _c;\n$RefreshReg$(_c, \"DataHistory\");","map":{"version":3,"names":["React","useState","useEffect","axios","getDatabase","ref","onValue","push","jsxDEV","_jsxDEV","ITEMS_PER_PAGE","DataHistory","_s","dataHistory","setDataHistory","currentPage","setCurrentPage","totalPages","setTotalPages","db","historyRef","lastRecord","snapshot","savedData","val","loadedHistory","Object","values","Math","ceil","length","fetchData","response","get","newData","data","timestamp","Date","toLocaleString","isDifferent","fireState","gasValue","gasThreshold","error","console","interval","setInterval","clearInterval","displayedData","reverse","slice","calculatePages","pages","i","max","min","handlePageSelect","page","handlePrevPage","handleNextPage","style","styles","container","children","header","fileName","_jsxFileName","lineNumber","columnNumber","table","headerRow","th","map","index","td","fanState","pumpState","windowState","loadingText","pagination","onClick","disabled","pageButton","pageNumber","backgroundColor","color","_c","maxWidth","margin","padding","textAlign","width","borderCollapse","marginTop","border","fontWeight","display","justifyContent","alignItems","fontSize","cursor","$RefreshReg$"],"sources":["E:/Desktop/Zalo file/IoT-FE/src/components/DataHistory.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import axios from \"axios\";\r\n// import { getDatabase, ref, onValue, push } from \"firebase/database\"; // Thêm từ Firebase\r\n\r\n// const DataHistory = () => {\r\n//   const [dataHistory, setDataHistory] = useState([]);\r\n//   const [showAll, setShowAll] = useState(false);\r\n//   const [error, setError] = useState(null);\r\n\r\n//   const isDifferentData = (newData, lastData) => {\r\n//     return (\r\n//       newData.gasThreshold !== lastData.gasThreshold ||\r\n//       newData.fireState !== lastData.fireState\r\n//     );\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     const db = getDatabase(); // Tạo kết nối tới Firebase Database\r\n//     const historyRef = ref(db, \"dataHistory\");\r\n\r\n//     // Lấy các bản ghi lưu trữ khi trang được tải lại\r\n//     onValue(historyRef, (snapshot) => {\r\n//       const savedData = snapshot.val();\r\n//       const loadedHistory = savedData ? Object.values(savedData) : [];\r\n//       setDataHistory(loadedHistory);\r\n//     });\r\n\r\n//     const fetchData = async () => {\r\n//       try {\r\n//         const response = await axios.get(\"https://whldjc-3001.csb.app/api/data\");\r\n//         const newData = {\r\n//           ...response.data,\r\n//           timestamp: new Date().toLocaleString(),\r\n//         };\r\n\r\n//         // Kiểm tra nếu có lửa hoặc khí gas vượt ngưỡng\r\n//         if (newData.fireState === 1 || newData.gasValue >= newData.gasThreshold) {\r\n//           // Kiểm tra xem dữ liệu mới đã tồn tại trong lịch sử chưa (dựa trên gasThreshold và fireState)\r\n//           const existingData = dataHistory.find(\r\n//             (item) => item.gasThreshold === newData.gasThreshold && item.fireState === newData.fireState\r\n//           );\r\n\r\n//         if (!existingData) {\r\n//           push(historyRef, newData); // Chỉ lưu nếu không có dữ liệu trùng\r\n//         }\r\n//       }\r\n\r\n//         setDataHistory((prevHistory) => {\r\n//           if (prevHistory.length === 0 || isDifferentData(newData, prevHistory[prevHistory.length - 1])) {\r\n//             return [...prevHistory, newData];\r\n//           }\r\n//           return prevHistory;\r\n//         });\r\n//       } catch (error) {\r\n//         setError(\"Lỗi khi lấy dữ liệu từ server: \" + error.message);\r\n//         console.error(\"Chi tiết lỗi:\", error);\r\n//       }\r\n//     };\r\n\r\n//     fetchData();\r\n//     const interval = setInterval(fetchData, 5000);\r\n//     return () => clearInterval(interval);\r\n//   }, []);\r\n\r\n//   // const displayedData = showAll ? dataHistory : dataHistory.slice(-5).reverse();\r\n//   const displayedData = [...dataHistory]\r\n//     .reverse()\r\n//     .slice(0, showAll ? dataHistory.length : 5);\r\n\r\n//   return (\r\n//     <div style={styles.container}>\r\n//       <h2 style={styles.header}>Lịch sử trạng thái</h2>\r\n//       {dataHistory.length > 0 ? (\r\n//         <table style={styles.table}>\r\n//           <thead>\r\n//             <tr style={styles.headerRow}>\r\n//               <th style={{ ...styles.th, ...styles.timestamp }}>Thời gian</th>\r\n//               <th style={{ ...styles.th, ...styles.fanState }}>Trạng thái quạt</th>\r\n//               <th style={{ ...styles.th, ...styles.pumpState }}>Trạng thái máy bơm</th>\r\n//               <th style={{ ...styles.th, ...styles.windowState }}>Trạng thái cửa sổ</th>\r\n//               <th style={{ ...styles.th, ...styles.gasValue }}>Giá trị mức khí gas hiện tại(ppm)</th>\r\n//               <th style={{ ...styles.th, ...styles.gasThreshold }}>Ngưỡng khí gas(ppm)</th>\r\n//               <th style={{ ...styles.th, ...styles.fireState }}>Phát hiện lửa</th>\r\n//             </tr>\r\n//           </thead>\r\n//           <tbody>\r\n//             {displayedData.map((data, index) => (\r\n//               <tr key={index}>\r\n//                 <td style={styles.timestamp}>{data.timestamp}</td>\r\n//                 <td style={styles.fanState}>{data.fanState}</td>\r\n//                 <td style={styles.pumpState}>{data.pumpState}</td>\r\n//                 <td style={styles.windowState}>{data.windowState}</td>\r\n//                 <td style={styles.gasValue}>{data.gasValue}</td>\r\n//                 <td style={styles.gasThreshold}>{data.gasThreshold}</td>\r\n//                 <td style={styles.fireState}>{data.fireState}</td>\r\n//               </tr>\r\n//             ))}\r\n//           </tbody>\r\n//         </table>\r\n//       ) : (\r\n//         <p style={styles.loadingText}>Đang tải dữ liệu...</p>\r\n//       )}\r\n//       {dataHistory.length > 5 && (\r\n//         <button onClick={() => setShowAll(!showAll)} style={styles.button}>\r\n//           {showAll ? \"Ẩn bớt\" : \"Xem tất cả\"}\r\n//         </button>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// const styles = {\r\n//   container: {\r\n//     maxWidth: \"700px\",\r\n//     margin: \"auto\",\r\n//     padding: \"20px\",\r\n//     borderRadius: \"8px\",\r\n//     boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.2)\",\r\n//     backgroundColor: \"#f9f9f9\",\r\n//   },\r\n//   header: {\r\n//     textAlign: \"center\",\r\n//     color: \"#333\",\r\n//   },\r\n//   table: {\r\n//     width: \"100%\",\r\n//     borderCollapse: \"collapse\",\r\n//     marginTop: \"10px\",\r\n//   },\r\n//   headerRow: {\r\n//     backgroundColor: \"#333\",\r\n//     color: \"#000\",\r\n//   },\r\n//   th: {\r\n//     padding: \"10px\",\r\n//     border: \"1px solid #ddd\",\r\n//     fontWeight: \"bold\",\r\n//   },\r\n//   timestamp: {\r\n//     backgroundColor: \"#ffebcc\",\r\n//     textAlign: \"center\",\r\n//   },\r\n//   fanState: {\r\n//     backgroundColor: \"#ffcccc\",\r\n//     textAlign: \"center\",\r\n//   },\r\n//   fireState: {\r\n//     backgroundColor: \"#ffe6cc\",\r\n//     textAlign: \"center\",\r\n//   },\r\n//   gasThreshold: {\r\n//     backgroundColor: \"#ffffcc\",\r\n//     textAlign: \"center\",\r\n//   },\r\n//   gasValue: {\r\n//     backgroundColor: \"#e6ffcc\",\r\n//     textAlign: \"center\",\r\n//   },\r\n//   pumpState: {\r\n//     backgroundColor: \"#cce6ff\",\r\n//     textAlign: \"center\",\r\n//   },\r\n//   windowState: {\r\n//     backgroundColor: \"#e6ccff\",\r\n//     textAlign: \"center\",\r\n//   },\r\n//   loadingText: {\r\n//     textAlign: \"center\",\r\n//     color: \"#888\",\r\n//   },\r\n//   button: {\r\n//     display: \"block\",\r\n//     width: \"100%\",\r\n//     padding: \"10px\",\r\n//     marginTop: \"10px\",\r\n//     fontSize: \"16px\",\r\n//     borderRadius: \"4px\",\r\n//     border: \"none\",\r\n//     backgroundColor: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     cursor: \"pointer\",\r\n//     textAlign: \"center\",\r\n//   },\r\n// };\r\n\r\n// export default DataHistory;\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { getDatabase, ref, onValue, push } from \"firebase/database\";\r\n\r\nconst ITEMS_PER_PAGE = 10; // Số mục mỗi trang\r\n\r\nconst DataHistory = () => {\r\n  const [dataHistory, setDataHistory] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1); // Trang hiện tại\r\n  const [totalPages, setTotalPages] = useState(1); // Tổng số trang\r\n\r\n  useEffect(() => {\r\n    const db = getDatabase();\r\n    const historyRef = ref(db, \"dataHistory\");\r\n  \r\n    let lastRecord = null; // Lưu bản ghi cuối cùng đã thêm\r\n  \r\n    onValue(historyRef, (snapshot) => {\r\n      const savedData = snapshot.val();\r\n      const loadedHistory = savedData ? Object.values(savedData) : [];\r\n      setDataHistory(loadedHistory);\r\n      setTotalPages(Math.ceil(loadedHistory.length / ITEMS_PER_PAGE));\r\n      if (loadedHistory.length > 0) {\r\n        lastRecord = loadedHistory[loadedHistory.length - 1]; // Lấy bản ghi cuối cùng\r\n      }\r\n    });\r\n  \r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(\"https://whldjc-3001.csb.app/api/data\");\r\n        const newData = {\r\n          ...response.data,\r\n          timestamp: new Date().toLocaleString(),\r\n        };\r\n  \r\n        // Kiểm tra sự khác biệt với bản ghi cuối cùng\r\n        const isDifferent =\r\n          !lastRecord ||\r\n          newData.fireState !== lastRecord.fireState ||\r\n          newData.gasValue !== lastRecord.gasValue ||\r\n          newData.gasThreshold !== lastRecord.gasThreshold;\r\n  \r\n        if (isDifferent && (newData.fireState === 0 || newData.gasValue >= newData.gasThreshold)) {\r\n          push(historyRef, newData); // Thêm bản ghi mới vào Firebase\r\n          lastRecord = newData; // Cập nhật bản ghi cuối cùng\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Lỗi khi lấy dữ liệu từ server:\", error);\r\n      }\r\n    };\r\n  \r\n    fetchData();\r\n    const interval = setInterval(fetchData, 5000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n  \r\n\r\n  // Lọc dữ liệu dựa trên trang hiện tại\r\n  const displayedData = [...dataHistory]\r\n    .reverse()\r\n    .slice((currentPage - 1) * ITEMS_PER_PAGE, currentPage * ITEMS_PER_PAGE);\r\n\r\n  // Tính toán danh sách trang hiển thị\r\n  const calculatePages = () => {\r\n    const pages = [];\r\n    if (totalPages <= 7) {\r\n      for (let i = 1; i <= totalPages; i++) {\r\n        pages.push(i);\r\n      }\r\n    } else {\r\n      if (currentPage > 3) pages.push(1, 2, \"...\");\r\n      for (\r\n        let i = Math.max(3, currentPage - 2);\r\n        i <= Math.min(totalPages - 2, currentPage + 2);\r\n        i++\r\n      ) {\r\n        pages.push(i);\r\n      }\r\n      if (currentPage < totalPages - 2) pages.push(\"...\", totalPages - 1, totalPages);\r\n    }\r\n    return pages;\r\n  };\r\n\r\n  // Điều hướng giữa các trang\r\n  const handlePageSelect = (page) => {\r\n    if (typeof page === \"number\") {\r\n      setCurrentPage(page);\r\n    }\r\n  };\r\n\r\n  const handlePrevPage = () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    if (currentPage < totalPages) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2 style={styles.header}>Lịch sử trạng thái</h2>\r\n      {dataHistory.length > 0 ? (\r\n        <table style={styles.table}>\r\n          <thead>\r\n            <tr style={styles.headerRow}>\r\n              <th style={styles.th}>Thời gian</th>\r\n              <th style={styles.th}>Trạng thái quạt</th>\r\n              <th style={styles.th}>Trạng thái máy bơm</th>\r\n              <th style={styles.th}>Trạng thái cửa sổ</th>\r\n              <th style={styles.th}>Giá trị mức khí gas hiện tại</th>\r\n              <th style={styles.th}>Ngưỡng khí gas</th>\r\n              <th style={styles.th}>Phát hiện lửa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {displayedData.map((data, index) => (\r\n              <tr key={index}>\r\n                <td style={styles.td}>{data.timestamp}</td>\r\n                <td style={styles.td}>{data.fanState}</td>\r\n                <td style={styles.td}>{data.pumpState}</td>\r\n                <td style={styles.td}>{data.windowState}</td>\r\n                <td style={styles.td}>{data.gasValue}</td>\r\n                <td style={styles.td}>{data.gasThreshold}</td>\r\n                <td style={styles.td}>{data.fireState}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <p style={styles.loadingText}>Đang tải dữ liệu...</p>\r\n      )}\r\n      <div style={styles.pagination}>\r\n        <button onClick={handlePrevPage} disabled={currentPage === 1} style={styles.pageButton}>\r\n          {\"</\"}\r\n        </button>\r\n        {calculatePages().map((page, index) => (\r\n          <button\r\n            key={index}\r\n            onClick={() => handlePageSelect(page)}\r\n            style={{\r\n              ...styles.pageNumber,\r\n              backgroundColor: page === currentPage ? \"#007bff\" : \"#f0f0f0\",\r\n              color: page === currentPage ? \"#fff\" : \"#000\",\r\n            }}\r\n            disabled={page === \"...\"}\r\n          >\r\n            {page}\r\n          </button>\r\n        ))}\r\n        <button onClick={handleNextPage} disabled={currentPage === totalPages} style={styles.pageButton}>\r\n          {\"/>\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: { maxWidth: \"700px\", margin: \"auto\", padding: \"20px\" },\r\n  header: { textAlign: \"center\", color: \"#333\" },\r\n  table: { width: \"100%\", borderCollapse: \"collapse\", marginTop: \"10px\" },\r\n  th: { padding: \"10px\", border: \"1px solid #ddd\", fontWeight: \"bold\", backgroundColor: \"#f0f0f0\" },\r\n  td: { padding: \"10px\", border: \"1px solid #ddd\" },\r\n  loadingText: { textAlign: \"center\", color: \"#888\" },\r\n  pagination: { display: \"flex\", justifyContent: \"center\", alignItems: \"center\", marginTop: \"10px\" },\r\n  pageButton: { padding: \"10px\", fontSize: \"16px\", margin: \"0 5px\", cursor: \"pointer\" },\r\n  pageNumber: { padding: \"5px 10px\", margin: \"0 2px\", border: \"1px solid #ddd\", cursor: \"pointer\" },\r\n};\r\n\r\nexport default DataHistory;\r\n"],"mappings":";;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,GAAG,EAAEC,OAAO,EAAEC,IAAI,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpE,MAAMC,cAAc,GAAG,EAAE,CAAC,CAAC;;AAE3B,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClD,MAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}